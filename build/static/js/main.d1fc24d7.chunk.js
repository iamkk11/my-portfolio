(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){e.exports=a.p+"static/media/ses.a96948cf.png"},340:function(e,t,a){e.exports=a(449)},345:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),i=(a(345),a(18)),s=a(19),c=a(21),u=a(20),d=a(22),m=a(68),p=a(466),h=a(462),g=a(17),f=a(33),E=a(468),b=a(13),v=a.n(b),y=a(4),x=a(259),S=a(286),w=a(132),j=a(282),C=a(265),O=a(279),N=a(287),T=a(271),k=a(278),P=a(290),D=a(280),F=a(328),A=a.n(F),H=a(329),L=a.n(H),R=a(330),I=a.n(R),B=a(332),z=a.n(B),M=a(333),W=a.n(M),X=a(331),$=a.n(X),K=a(334),_=a.n(K),G=a(151),U=a.n(G),J=a(43),q=a.n(J),Y=a(258),Z=a(243),V=a.n(Z),Q=a(318),ee=a.n(Q),te=a(316),ae=a.n(te),ne=a(315),re=a.n(ne),oe=a(317),le=a.n(oe),ie=a(314),se=a.n(ie),ce=a(313),ue=a.n(ce),de=a(57),me=a(64),pe=a(152);var he=q()({grid:{padding:"0 15px !important"}})(function(e){var t=Object(me.a)({},e),a=t.classes,n=t.children,o=Object(de.a)(t,["classes","children"]);return r.a.createElement(pe.a,Object.assign({item:!0},o,{className:a.grid}),n)});var ge=q()({grid:{margin:"0 -15px !important",width:"unset"}})(function(e){var t=e.classes,a=e.children,n=Object(de.a)(e,["classes","children"]);return r.a.createElement(pe.a,Object.assign({container:!0},n,{className:t.grid}),a)}),fe={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba(0, 0, 0, 0.87)",background:"#fff",width:"100%",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}};var Ee=q()(fe)(function(e){var t,a=Object(me.a)({},e),n=a.classes,o=a.className,l=a.children,i=a.plain,s=a.profile,c=a.chart,u=Object(de.a)(a,["classes","className","children","plain","profile","chart"]),d=v()((t={},Object(g.a)(t,n.card,!0),Object(g.a)(t,n.cardPlain,i),Object(g.a)(t,n.cardProfile,s),Object(g.a)(t,n.cardChart,c),Object(g.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:d},u),l)}),be=Object(f.a)({background:"linear-gradient(60deg, #ffa726, #fb8c00)"},{boxShadow:"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"}),ve=Object(f.a)({background:"linear-gradient(60deg, #66bb6a, #43a047)"},{boxShadow:"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)"}),ye=Object(f.a)({background:"linear-gradient(60deg, #ef5350, #e53935)"},{boxShadow:"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)"}),xe=Object(f.a)({background:"linear-gradient(60deg, #26c6da, #00acc1)"},{boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"}),Se=Object(f.a)({background:"linear-gradient(60deg, #ab47bc, #8e24aa)"},{boxShadow:"0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2)"}),we=Object(f.a)({background:"linear-gradient(60deg, #ec407a, #d81b60)"},{boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)"}),je=(Object(f.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid #eeeeee",height:"auto"},{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"}),{color:"#3C4858",textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:"#777",fontWeight:"400",lineHeight:"1"}}),Ce=(Object(f.a)({},je,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(f.a)({},je,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{cardIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{borderRadius:"3px",backgroundColor:"#999",padding:"15px",marginTop:"-20px",marginRight:"15px",float:"left"}},warningCardHeader:be,successCardHeader:ve,dangerCardHeader:ye,infoCardHeader:xe,primaryCardHeader:Se,roseCardHeader:we});var Oe=q()(Ce)(function(e){var t,a=Object(me.a)({},e),n=a.classes,o=a.className,l=a.children,i=a.color,s=Object(de.a)(a,["classes","className","children","color"]),c=v()((t={},Object(g.a)(t,n.cardIcon,!0),Object(g.a)(t,n[i+"CardHeader"],i),Object(g.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:c},s),l)}),Ne={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid #eee",marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"16px",position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px"}},cardFooterChart:{borderTop:"1px solid #eee"}};var Te=q()(Ne)(function(e){var t,a=Object(me.a)({},e),n=a.classes,o=a.className,l=a.children,i=a.plain,s=a.profile,c=a.stats,u=a.chart,d=Object(de.a)(a,["classes","className","children","plain","profile","stats","chart"]),m=v()((t={},Object(g.a)(t,n.cardFooter,!0),Object(g.a)(t,n.cardFooterPlain,i),Object(g.a)(t,n.cardFooterProfile,s),Object(g.a)(t,n.cardFooterStats,c),Object(g.a)(t,n.cardFooterChart,u),Object(g.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:m},d),l)}),ke={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFFFFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(f.a)({},be)},successCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(f.a)({},ve)},dangerCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(f.a)({},ye)},infoCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(f.a)({},xe)},primaryCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(f.a)({},Se)},roseCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(f.a)({},we)}};var Pe=q()(ke)(function(e){var t,a=Object(me.a)({},e),n=a.classes,o=a.className,l=a.children,i=a.color,s=a.plain,c=a.stats,u=a.icon,d=Object(de.a)(a,["classes","className","children","color","plain","stats","icon"]),m=v()((t={},Object(g.a)(t,n.cardHeader,!0),Object(g.a)(t,n[i+"CardHeader"],i),Object(g.a)(t,n.cardHeaderPlain,s),Object(g.a)(t,n.cardHeaderStats,c),Object(g.a)(t,n.cardHeaderIcon,u),Object(g.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:m},d),l)}),De={successText:{color:"#4caf50"},upArrowCardCategory:{width:"16px",height:"16px"},stats:{color:"#999999",display:"inline-flex",fontSize:"12px",lineHeight:"22px","& svg":{top:"4px",width:"16px",height:"64px",position:"relative",marginRight:"3px",marginLeft:"3px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{top:"4px",fontSize:"16px",position:"relative",marginRight:"3px",marginLeft:"3px",flexDirection:"row"}},cardCategory:{color:"#999999",margin:"0",fontSize:"16px",marginTop:"0",paddingTop:"10px",marginBottom:"0",fontWeight:"bold"},cardCategoryWhite:{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitle:{color:"#3C4858",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none",fontSize:18,"& small":{color:"#777",fontWeight:"400",lineHeight:"1"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontWeight:"400",lineHeight:"1"}}},Fe=a(161),Ae=a.n(Fe),He=a(66),Le={paddingTop:26,fontSize:17},Re=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loader:!0,registeredCount:null,projectCount:null,unitCount:null,revenue:0},a.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},a.getCounts=function(){a.setState({loader:!0});fetch("/api/counts",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.setState({registeredCount:e.rc,projectCount:e.pc,unitCount:e.ac,loader:!1}):a.setState({loader:!1})}).catch(function(e){a.setState({loader:!1})})},a.getCounts2=function(){a.setState({loader:!0});fetch("/api/counts2",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success&&a.setState({revenue:e.revenue})}).catch(function(e){alert(e)})},a.componentDidMount=function(){a.getCounts(),a.getCounts2()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(Ae.a,{active:this.state.loader,spinner:r.a.createElement(He.RingLoader,{size:150,color:"peru"}),text:"Loading..."},r.a.createElement(ge,null,r.a.createElement(he,null,r.a.createElement(Ee,{className:e.card},r.a.createElement(Y.a,null,r.a.createElement(x.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Hi! Welcome to the admin dashboard."),r.a.createElement(x.a,{className:e.title,color:"textSecondary",gutterBottom:!0},new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(Date.now())))))),r.a.createElement(ge,null,r.a.createElement(he,{xs:12,sm:6,md:3},r.a.createElement(Ee,null,r.a.createElement(Pe,{color:"primary",stats:!0,icon:!0},r.a.createElement(Oe,{color:"primary"},r.a.createElement(ue.a,null)),r.a.createElement("p",{className:e.cardCategory},"Revenue"),r.a.createElement("h3",{className:e.cardTitle},"  TZS  ",this.numberWithCommas(this.state.revenue)," ")),r.a.createElement(Te,{stats:!0},r.a.createElement("div",{className:e.stats},r.a.createElement(V.a,null),r.a.createElement(x.a,{variant:"display1",style:Le},"Revenue for ",new Intl.DateTimeFormat("en-US",{month:"long"}).format(Date.now())))))),r.a.createElement(he,{xs:12,sm:6,md:3},r.a.createElement(Ee,null,r.a.createElement(Pe,{color:"danger",stats:!0,icon:!0},r.a.createElement(Oe,{color:"danger"},r.a.createElement(se.a,null)),r.a.createElement("p",{className:e.cardCategory},"Rent dues"),r.a.createElement("h3",{className:e.cardTitle},this.state.projectCount)),r.a.createElement(Te,{stats:!0},r.a.createElement("div",{className:e.stats},r.a.createElement(V.a,null),r.a.createElement(x.a,{variant:"display1",style:Le},"Contracts ending in ",new Intl.DateTimeFormat("en-US",{month:"long"}).format(Date.now())))))),r.a.createElement(he,{xs:12,sm:6,md:3},r.a.createElement(Ee,null,r.a.createElement(Pe,{color:"success",stats:!0,icon:!0},r.a.createElement(Oe,{color:"warning"},r.a.createElement(re.a,null)),r.a.createElement("p",{className:e.cardCategory},"Users registered"),r.a.createElement("h3",{className:e.cardTitle},"+",this.state.registeredCount)),r.a.createElement(Te,{stats:!0},r.a.createElement("div",{className:e.stats},r.a.createElement(ae.a,null),r.a.createElement(x.a,{variant:"display1",style:Le},"Updated now"))))),r.a.createElement(he,{xs:12,sm:6,md:3},r.a.createElement(Ee,null,r.a.createElement(Pe,{color:"info",stats:!0,icon:!0},r.a.createElement(Oe,{color:"info"},r.a.createElement(le.a,null)),r.a.createElement("p",{className:e.cardCategory},"Units taken"),r.a.createElement("h3",{className:e.cardTitle},"  +",this.state.unitCount)),r.a.createElement(Te,{stats:!0},r.a.createElement("div",{className:e.stats},r.a.createElement(ee.a,null),r.a.createElement(x.a,{variant:"display1",style:Le},"Occupied "))))))))}}]),t}(r.a.Component),Ie=q()(De)(Re),Be=a(457),ze=a(463),Me=a(465),We=a(458),Xe=a(459),$e=a(51),Ke=a(261),_e=function(){return r.a.createElement("div",null,r.a.createElement(Ke.a,{size:60,thickness:7,color:"primary"}))},Ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchSexData=function(){fetch("/api/agerange",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.setState({sexData:e.data,ai:!1}):a.setState({ai:!1})}).catch(function(e){a.setState({ai:!1}),console.log(e)})},a.state={sexData:[],ai:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchSexData()}},{key:"render",value:function(){return this.state.ai?r.a.createElement(_e,null):r.a.createElement("div",null,r.a.createElement($e.Donut,{data:this.state.sexData,externalRadius:150,internalRadius:80,radiusHoverOffset:30,highlightSliceById:4,hasFixedHighlightedSlice:!0,isAnimated:!0,colorSchema:["#7FFFD4","LightSalmon","MediumPurple"]}),r.a.createElement($e.Legend,{data:this.state.sexData,height:140,width:290,numberFormat:"1",colorSchema:["#7FFFD4","LightSalmon","MediumPurple"]}))}}]),t}(n.Component),Ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchSexData=function(){fetch("/api/sex",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.setState({sexData:e.data,ai:!1}):a.setState({ai:!1})}).catch(function(e){a.setState({ai:!1}),console.log(e)})},a.state={sexData:[],ai:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchSexData()}},{key:"render",value:function(){return this.state.ai?r.a.createElement(_e,null):r.a.createElement("div",null,r.a.createElement($e.Donut,{data:this.state.sexData,externalRadius:150,internalRadius:80,radiusHoverOffset:30,highlightSliceById:2,hasFixedHighlightedSlice:!0,isAnimated:!0,colorSchema:["#7FFFD4","LightSalmon","MediumPurple"]}),r.a.createElement($e.Legend,{data:this.state.sexData,height:140,width:290,numberFormat:"1",colorSchema:["#7FFFD4","LightSalmon","MediumPurple"]}))}}]),t}(n.Component),Je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchSexData=function(){fetch("/api/income",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.setState({sexData:e.data,ai:!1}):a.setState({ai:!1})}).catch(function(e){a.setState({ai:!1}),console.log(e)})},a.state={sexData:[],ai:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchSexData()}},{key:"render",value:function(){return this.state.ai?r.a.createElement(_e,null):r.a.createElement("div",null,r.a.createElement($e.Donut,{data:this.state.sexData,externalRadius:150,internalRadius:80,radiusHoverOffset:30,highlightSliceById:4,hasFixedHighlightedSlice:!0,isAnimated:!0,colorSchema:["#7FFFD4","LightSalmon","MediumPurple"]}),r.a.createElement($e.Legend,{data:this.state.sexData,height:140,width:290,numberFormat:"1",colorSchema:["#7FFFD4","LightSalmon","MediumPurple"]}))}}]),t}(n.Component),qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchDaysLeftData=function(){fetch("/api/days",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.setState({daysLeftData:e.data,ai:!1}):a.setState({ai:!1})}).catch(function(e){a.setState({ai:!1}),console.log(e)})},a.state={daysLeftData:[],ai:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchDaysLeftData()}},{key:"render",value:function(){return this.state.ai?r.a.createElement(_e,null):r.a.createElement("div",null,r.a.createElement($e.Bar,{data:this.state.daysLeftData,enableLabels:!0,labelsNumberFormat:"2",labelsSize:"15",isAnimated:!0,colorSchema:["orange","GoldenRod","Khaki","PowderBlue","Tan","Yellow"]}))}}]),t}(r.a.Component),Ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchlineData=function(){fetch("/api/cashflow",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.setState({lineData:e.data,ai:!1}):a.setState({ai:!1})}).catch(function(e){a.setState({lineData:{dataByTopic:[]},ai:!1}),console.log(e)})},a.state={lineData:{},ai:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchlineData()}},{key:"render",value:function(){return this.state.ai?r.a.createElement(_e,null):r.a.createElement("div",null,r.a.createElement("head",null,r.a.createElement("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/britecharts/latest/britecharts.min.css"})),r.a.createElement("div",null,r.a.createElement($e.Tooltip,{data:this.state.lineData,render:Ze,topicLabel:"topics",title:"",dateFormat:"custom",dateCustomFormat:"%B '%y"})))}}]),t}(n.Component),Ze=function(e){return r.a.createElement($e.Line,Object.assign({lineCurve:"basis",isAnimated:!0,lineGradient:["#7FFFD4","orange","LightSalmon","MediumPurple","GoldenRod"],margin:Ve,grid:"full",yAxisLabel:"Amount",yAxisLabelPadding:40,xAxisLabel:"Month",xAxisFormat:"custom",xAxisCustomFormat:"%b"},e))},Ve={bottom:80},Qe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Be.a,null,r.a.createElement(ze.a,null,r.a.createElement(Me.a,{border:"white",bg:"light"},r.a.createElement(ze.a.Toggle,{as:Me.a.Header},r.a.createElement(x.a,{variant:"h5",color:"primary",style:{fontSize:17}},"Room VS Days Left")),r.a.createElement(ze.a.Collapse,null,r.a.createElement(Me.a.Body,null,r.a.createElement(We.a,null,r.a.createElement(qe,null))))),r.a.createElement(Me.a,{border:"white",bg:"light"},r.a.createElement(ze.a.Toggle,{as:Me.a.Header},r.a.createElement(x.a,{variant:"h5",color:"primary",style:{fontSize:17}},"Cashflow")),r.a.createElement(ze.a.Collapse,null,r.a.createElement(Me.a.Body,null,r.a.createElement(We.a,null,r.a.createElement(Ye,null))))),r.a.createElement(Me.a,{border:"white",bg:"light"},r.a.createElement(ze.a.Toggle,{as:Me.a.Header},r.a.createElement(x.a,{variant:"h5",color:"primary",style:{fontSize:17}},"Tenant Analytics")),r.a.createElement(ze.a.Collapse,null,r.a.createElement(Me.a.Body,null,r.a.createElement(We.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Ue,null)),r.a.createElement(Xe.a,null,r.a.createElement(Ge,null)),r.a.createElement(Xe.a,null,r.a.createElement(Je,null))))))))}}]),t}(n.Component),et=a(464),tt=a(467),at=a(320),nt=a.n(at),rt=a(296),ot=a(470),lt=a(266),it=a(174),st=a.n(it),ct=a(23),ut=a.n(ct),dt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).reminder=function(){fetch("/api/reminder",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success?ut()({text:"Reminder sent!",icon:"success"}):ut()({text:"Email reminder not sent!",icon:"error"})}).catch(function(e){console.log(e),ut()({text:"Error fetching!",icon:"error"}),ut.a.stopLoading(),ut.a.close()})},a.sendReminder=function(){ut()({text:"Send reminder to all tenants with 15 days or less?",icon:"warning",dangerMode:!0,buttons:{cancel:!0,reminder:{text:"Send reminder",closeModal:!1}}}).then(function(e){e&&a.reminder()})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{title:"Reminder"},r.a.createElement(T.a,{onClick:this.sendReminder},r.a.createElement(st.a,{className:e.icon}))))}}]),t}(r.a.Component),mt=Object(y.a)({icon:{"&:hover":{color:"peru"}}},{name:"CustomToolbar"})(dt),pt=a(238),ht=a.n(pt),gt=a(175),ft=a.n(gt),Et=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(){var e=a.props,t=e.selectedRows,n=e.data,r=t.data.map(function(e){return e.dataIndex}).map(function(e){return n[e][1]}),o=JSON.stringify({usernames:r});fetch("/api/delete",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.props.getTableData():a.setState({loader:!1})}).catch(function(e){console.log(e)})},a.handlePasswordReset=function(){var e=a.props,t=e.selectedRows,n=e.data,r=t.data.map(function(e){return e.dataIndex}).map(function(e){return n[e][1]}),o=JSON.stringify({usernames:r});fetch("/api/prs",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}).then(function(e){return e.json()}).then(function(e){!0===e.success?ut()({text:"Password reset!",icon:"success"}):ut()({text:"Password not reset!",icon:"error"})}).catch(function(e){console.log(e),ut()({text:"Error fetching!",icon:"error"}),ut.a.stopLoading(),ut.a.close()})},a.resetPassword=function(){ut()({text:"Reset password for selected users?",icon:"warning",dangerMode:!0,buttons:{cancel:!0,reset:{text:"Reset password",closeModal:!1}}}).then(function(e){e&&a.handlePasswordReset()})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:"custom-toolbar-select"},r.a.createElement(lt.a,{title:"Delete",position:"center"},r.a.createElement(T.a,{className:e.iconButton,onClick:this.handleDelete},r.a.createElement(ht.a,{className:e.icon}))),r.a.createElement(lt.a,{title:"Reset Password",position:"center"},r.a.createElement(T.a,{onClick:this.resetPassword},r.a.createElement(ft.a,{className:e.icon}))))}}]),t}(r.a.Component),bt=Object(y.a)({iconButton:{top:"50%",display:"inline-block",position:"relative",transform:"translateY(-50%)"},icon:{"&:hover":{color:"green"},color:"peru"}},{name:"CustomToolbarSelect"})(Et),vt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).reminder=function(){var e=a.props,t=e.selectedRow,n=e.data[t][1],r=JSON.stringify({username:n});fetch("/api/remind",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:r}).then(function(e){return e.json()}).then(function(e){!0===e.success?ut()({text:"Reminders sent!",icon:"success"}):ut()({text:"Email reminder not sent!",icon:"error"})}).catch(function(e){alert(e),ut()({text:"Error fetching!",icon:"error"}),ut.a.stopLoading(),ut.a.close()})},a.sendReminder=function(){ut()({text:"Send reminder?",icon:"warning",dangerMode:!0,buttons:{cancel:!0,reminder:{text:"Send reminder",closeModal:!1}}}).then(function(e){e&&a.reminder()})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{title:"Reminder",position:"center"},r.a.createElement(T.a,{onClick:this.sendReminder},r.a.createElement(st.a,{className:e.icon}))))}}]),t}(r.a.Component),yt=Object(y.a)({icon:{"&:hover":{color:"peru"}}},{name:"CustomToolbar"})(vt),xt=function(e){var t=new Date(e);return t.setDate(t.getDate()),t.toISOString().substr(0,10)},St=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],details:"",loader:!0,showHover:!1,show:!1},a.registerTenant=function(){a.setState({ringloader:!0});var e=a.state.details,t=e.username,n=e.phone,r=e.startDate,o=e.duration,l=e.unit_id,i=JSON.stringify({username:t,phone:n,startDate:r,duration:o,unit_id:l});fetch("/api/modal-update",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:i}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.handleClose():alert("Error occured")}).catch(function(e){alert("Error occured")})},a.handleOpen=function(e){a.getDetails(e),a.setState({show:!0})},a.handleClose=function(){a.setState({show:!1})},a.getDetails=function(e){var t=JSON.stringify({username:e});fetch("/api/modal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then(function(e){return e.json()}).then(function(e){!0===e.success?(e.user.startDate=xt(e.user.startDate),e.user.endDate=xt(e.user.endDate),a.setState({details:e.user})):alert("Error getting user")}).catch(function(e){a.setState({progress:!1}),alert(e)})},a.getTableData=function(){fetch("/api/mytenants",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.setState({data:e.data,loader:!1}):a.setState({data:[],loader:!1})}).catch(function(e){a.setState({loader:!1})})},a.mouseEnter=function(){a.setState({showHover:!0})},a.mouseLeave=function(){a.setState({showHover:!1})},a.handleChange=function(e){return function(t){var n=a.state.details;n[e]=t.target.value,a.setState({details:n})}},a.componentDidMount=function(){a.getTableData()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.details,n=[{name:"Unit",options:{filter:!1}},{name:"Email",options:{filter:!1}},{name:"Name",options:{filter:!1}},{name:"Phone",options:{filter:!1}},{name:"Due Days",options:{filter:!0,filterType:"checkbox",customBodyRender:function(t,a,n){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",maxHeight:30,maxWidth:1},onMouseEnter:e.mouseEnter,onMouseLeave:e.mouseLeave},r.a.createElement("div",null,r.a.createElement(ot.a,{color:(o=t,"Exceeded"===o?"danger":"Less than 15"===o?"warning":"More than 15"===o?"success":"secondary"),style:{width:105}},r.a.createElement(x.a,{style:{fontSize:11}},t))),e.state.showHover&&r.a.createElement("div",{style:{paddingLeft:10}},r.a.createElement(yt,{selectedRow:a.rowIndex,data:e.state.data})));var o}}}],o={responsive:"stacked",elevation:2,rowsPerPage:100,customToolbar:function(){return r.a.createElement(mt,null)},customToolbarSelect:function(t,a,n){return r.a.createElement(bt,{selectedRows:t,displayData:a,setSelectedRows:n,data:e.state.data,getTableData:e.getTableData})},onRowClick:function(t,a){var n=t[1];e.handleOpen(n)}};return r.a.createElement("div",null,r.a.createElement(Ae.a,{active:this.state.loader,spinner:r.a.createElement(He.RingLoader,{size:150,color:"peru"}),text:"loading..."},r.a.createElement(nt.a,{title:r.a.createElement(x.a,{style:{fontWeight:"bold",fontSize:17,color:"grey"}},"Tenants"),data:this.state.data,columns:n,options:o})),r.a.createElement(et.a,{scrollable:!0,show:this.state.show,onHide:this.handleClose,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(et.a.Header,{closeButton:!0},r.a.createElement(et.a.Title,null,r.a.createElement(Be.a,null,r.a.createElement(We.a,null,r.a.createElement(x.a,null,a.name))))),r.a.createElement(et.a.Body,{style:{height:300}},r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:12,md:{span:4}},r.a.createElement("form",null,r.a.createElement(rt.a,{id:"outlined-start-date",label:"Start Date",type:"date",className:t.textField,margin:"normal",variant:"outlined",value:a.startDate,onChange:this.handleChange("startDate"),InputLabelProps:{shrink:!0,fontSize:15},InputProps:{className:t.inputBox}}))),r.a.createElement(Xe.a,{xs:12,md:{span:4,offset:2}},r.a.createElement("form",null,r.a.createElement(rt.a,{id:"outlined-start-date",label:"End Date",type:"date",className:t.textField,margin:"normal",variant:"outlined",value:a.endDate,disabled:!0,InputLabelProps:{shrink:!0,fontSize:15},InputProps:{className:t.inputBox}})))),r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,sm:4,md:{span:4}},r.a.createElement("form",null,r.a.createElement(rt.a,{id:"outlined-phone",label:"Phone",value:a.phone,onChange:this.handleChange("phone"),type:"tel",className:t.textField,margin:"normal",variant:"outlined",placeholder:"255 XXX XXX XXX",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox}}))),r.a.createElement(Xe.a,{xs:12,md:{span:4,offset:2}},r.a.createElement("form",{spellcheck:"false"},r.a.createElement(rt.a,{id:"outlined-room",label:"Room",className:t.textField,value:a.unit_id,onChange:this.handleChange("unit_id"),margin:"normal",variant:"outlined",placeholder:"Enter room number",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox}})))),r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,sm:4,md:{span:4}},r.a.createElement("form",{spellcheck:"false"},r.a.createElement(rt.a,{id:"outlined-months",label:"No of months",type:"Number",className:t.textField,margin:"normal",variant:"outlined",value:a.duration,onChange:this.handleChange("duration"),InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox}}))),r.a.createElement(Xe.a,{xs:6,sm:4,md:{span:4,offset:2}},r.a.createElement("form",{spellcheck:"false"},r.a.createElement(rt.a,{id:"outlined-days",label:"Days Left",type:"Number",className:t.textField,margin:"normal",variant:"outlined",value:a.daysLeft,onChange:this.handleChange("duration"),InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},disabled:!0}))))),r.a.createElement(et.a.Footer,null,r.a.createElement(tt.a,{variant:"info",onClick:this.handleClose},"Cancel"),r.a.createElement(tt.a,{variant:"info",onClick:this.registerTenant},"Update"))))}}]),t}(r.a.Component),wt=Object(y.a)(function(e){return{textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},inputBox:{width:300,fontSize:15},inputLabelProps:{fontSize:15}}})(St),jt=a(460),Ct=a(274),Ot=[{value:"user",label:"User"},{value:"admin",label:"Admin"}],Nt=[{value:0,label:""},{value:1,label:"Male"},{value:2,label:"Female"}],Tt=[{value:0,label:""},{value:1,label:"20-25"},{value:2,label:"25-30"},{value:3,label:"30-35"},{value:4,label:"Above 35"}],kt=[{value:0,label:""},{value:1,label:"TZS 200,000-500,000"},{value:2,label:"TZS 500,000-1000,000"},{value:3,label:"TZS 1000,000-1,500,000"},{value:4,label:"Above TZS 1,500,000"}],Pt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={role:"user",sex:"1",ageRange:"1",incomeRange:"",name:"",username:"",phone:"",startDate:"",duration:"",unit_id:"",loader:!1,alertSweet:"",emailError:!1,roomError:!1,startDateError:!1,durationError:!1},a.sweetAlert=function(e,t,a){ut()({title:e,text:t,icon:a})},a.handlePhoneNo=function(){var e=a.state.phone;if(""===e)alert("Enter phone number in this format: 255 XXX XXX XXX. e.g 255714876321");else{var t=e.slice(0,3);12===e.length&&"255"===t?a.handleSubmitButton():alert("Enter phone number in this format: 255 XXX XXX XXX. e.g 255714876321")}},a.handleChange=function(e){return function(t){a.setState(Object(g.a)({},e,t.target.value))}},a.registerTenant=function(){var e=a.state,t=e.role,n=e.name,r=e.phone,o=e.username,l=e.startDate,i=e.duration,s=e.unit_id,c=e.sex,u=e.ageRange,d=e.incomeRange,m=JSON.stringify({role:t,name:n,phone:r,username:o,startDate:l,duration:i,unit_id:s,sex:c,ageRange:u,incomeRange:d}),p=JSON.stringify({role:t,name:n,phone:r,username:o});fetch("/api/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:"user"===a.state.role?m:p}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.setState({loader:!1,alertSweet:a.sweetAlert("Registration Successful","You have successfully registered user","success")}):!0===e.duplicate?a.setState({loader:!1,alertSweet:a.sweetAlert("Error","Record already exists","error")}):a.setState({loader:!1,alertSweet:a.sweetAlert("Failure","Error while registering user","error")})}).catch(function(e){a.setState({loader:!1,alertSweet:a.sweetAlert("Failure","Error during fetch","error")})})},a.handleSubmitTenant=function(){var e=a.state,t=e.username,n=e.unit_id,r=e.startDate,o=e.duration;a.setState({loader:!0}),""===t?(a.sweetAlert("Missing field","Email is empty","error"),a.setState({emailError:!0,loader:!1})):""===n?(a.sweetAlert("Missing field","Unit id is empty","error"),a.setState({roomError:!0,loader:!1})):""===r?(a.sweetAlert("Missing field","Startdate is empty","error"),a.setState({startDateError:!0,loader:!1})):""===o?(a.sweetAlert("Missing field","Duration is empty","error"),a.setState({durationError:!0,loader:!1})):""===t&&""===n&&""===r&&""===o?(a.sweetAlert("Missing fields","Unit id, Start date, duration & username are missing","error"),a.setState({emailError:!0,roomError:!0,startDateError:!0,durationError:!0,loader:!1})):a.registerTenant()},a.handleSubmitAdmin=function(){var e=a.state,t=e.username,n=e.name;a.setState({loader:!0}),""===t?(a.sweetAlert("Missing field","Email is empty","error"),a.setState({emailError:!0,loader:!1})):""===n?a.sweetAlert("Missing field","Name is empty","error"):a.registerTenant()},a.handleSubmitButton=function(){"admin"===a.state.role?a.handleSubmitAdmin():a.handleSubmitTenant()},a._onKeyPress=function(e){13===e.charCode&&(e.preventDefault(),a.handleSubmitButton())},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(Be.a,null,r.a.createElement(jt.a,{className:t.jumbo},r.a.createElement(x.a,{variant:"diaplay 1",gutterBottom:!0,color:"default",style:{fontSize:"12",color:"peru",fontWeight:"bold"}},"User Registration Form")),r.a.createElement(ze.a,null,r.a.createElement(Me.a,{border:"white",bg:"light"},r.a.createElement(ze.a.Toggle,{as:Me.a.Header},r.a.createElement(x.a,{variant:"h5",color:"primary",style:{fontSize:17}},"Tenant Info")),r.a.createElement(ze.a.Collapse,null,r.a.createElement(Me.a.Body,null,r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,sm:4,md:4},r.a.createElement("form",{autoComplete:"off",spellcheck:"false"},r.a.createElement(rt.a,{id:"outlined-select-role",select:!0,className:t.textField,value:this.state.role,onChange:this.handleChange("role"),helperText:"User role?",margin:"normal",variant:"outlined",placeholder:"Role",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},onKeyPress:this._onKeyPress,SelectProps:{native:!0}},Ot.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))),r.a.createElement(Xe.a,{xs:12,md:{span:4,offset:4}},r.a.createElement("form",{autoComplete:"off",spellcheck:"false"},r.a.createElement(rt.a,{id:"outlined-name",label:"Full Name",className:t.textField,value:this.state.name,onChange:this.handleChange("name"),margin:"normal",variant:"outlined",placeholder:"Enter Full Name",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},onKeyPress:this._onKeyPress})))),r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,sm:4,md:4},r.a.createElement("form",null,r.a.createElement(rt.a,{required:!0,id:"outlined-phone",label:"Phone",value:this.state.phone,onChange:this.handleChange("phone"),type:"tel",className:t.textField,margin:"normal",variant:"outlined",placeholder:"255XXX XXX XXX",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},onKeyPress:this._onKeyPress}))),r.a.createElement(Xe.a,{xs:12,md:{span:4,offset:4}},r.a.createElement("form",null,r.a.createElement(rt.a,{required:!0,id:"outlined-email-input",label:"Email",className:t.textField,type:"email",autoComplete:"email",margin:"normal",variant:"outlined",value:this.state.username,onChange:this.handleChange("username"),onFocus:function(){return e.setState({emailError:!1})},placeholder:"Enter a valid email address",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},error:this.state.emailError,onKeyPress:this._onKeyPress})))),r.a.createElement(r.a.Fragment,null,"user"===this.state.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,sm:4,md:4},r.a.createElement("form",{spellcheck:"false"},r.a.createElement(rt.a,{required:!0,id:"outlined-room",label:"Room",className:t.textField,value:this.state.unit_id,onChange:this.handleChange("unit_id"),onFocus:function(){return e.setState({roomError:!1})},margin:"normal",variant:"outlined",placeholder:"Enter room number",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},error:this.state.roomError,onKeyPress:this._onKeyPress}))),r.a.createElement(Xe.a,{xs:12,md:{span:4,offset:4}},r.a.createElement("form",null,r.a.createElement(rt.a,{id:"outlined-start-date",required:!0,label:"Start Date",type:"date",className:t.textField,margin:"normal",variant:"outlined",value:this.state.startDate,onChange:this.handleChange("startDate"),InputLabelProps:{shrink:!0,fontSize:15},InputProps:{className:t.inputBox},onKeyPress:this._onKeyPress,error:this.state.startDateError,onFocus:function(){return e.setState({startDateError:!1})}})))),r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,sm:4,md:4},r.a.createElement("form",{spellcheck:"false"},r.a.createElement(rt.a,{id:"outlined-months",label:"No of months",type:"Number",className:t.textField,margin:"normal",variant:"outlined",value:this.state.duration,onChange:this.handleChange("duration"),InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},onKeyPress:this._onKeyPress,error:this.state.durationError,onFocus:function(){return e.setState({durationError:!1})}}))),r.a.createElement(Xe.a,{xs:12,md:{span:4,offset:4}},r.a.createElement("form",{autoComplete:"off",spellcheck:"false"},r.a.createElement(rt.a,{id:"outlined-select-incomerange",select:!0,label:"Income",className:t.textField,value:this.state.incomeRange,onChange:this.handleChange("incomeRange"),helperText:"Income Range",margin:"normal",variant:"outlined",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},onKeyPress:this._onKeyPress,SelectProps:{native:!0}},kt.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))))),r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,md:4},r.a.createElement("form",{autoComplete:"off",spellcheck:"false"},r.a.createElement(rt.a,{id:"outlined-select-sex",select:!0,className:t.textField,value:this.state.sex,onChange:this.handleChange("sex"),helperText:"Gender?",margin:"normal",variant:"outlined",label:"Sex",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},onKeyPress:this._onKeyPress,SelectProps:{native:!0}},Nt.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))),r.a.createElement(Xe.a,{xs:12,md:{span:4,offset:4}},r.a.createElement("form",{autoComplete:"off",spellcheck:"false"},r.a.createElement(rt.a,{id:"outlined-select-agerange",select:!0,label:"Age",className:t.textField,value:this.state.ageRange,onChange:this.handleChange("ageRange"),helperText:"Age Range",margin:"normal",variant:"outlined",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox},onKeyPress:this._onKeyPress,SelectProps:{native:!0}},Tt.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))))):""))))),r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,md:4},r.a.createElement("div",{className:t.buttons},r.a.createElement("div",{className:t.buttomButtons},r.a.createElement(Ct.a,{variant:"contained",color:"primary",onClick:this.handlePhoneNo,className:t.button},"SUBMIT",r.a.createElement(He.RingLoader,{loading:this.state.loader,size:27,color:"white"}))))))))}}]),t}(n.Component),Dt=Object(y.a)(function(e){return{textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},inputBox:{width:300,fontSize:15},inputLabelProps:{fontSize:15},jumbo:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:10},button:{margin:e.spacing.unit},buttons:{display:"flex",flexDirection:"row",paddingBottom:9},buttomButtons:{display:"flex",flexDirection:"column"}}})(Pt);var Ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,logoutdashboard:!1,component:0,selected:0},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.handleClick=function(e){a.setState({selected:e,component:e})},a.handleLogout=function(){fetch("/v1/api/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success&&a.setState({logoutdashboard:!0})}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.logoutdashboard,o=a.selected;return n?r.a.createElement(E.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(j.a,{position:"absolute",className:v()(t.appBar,this.state.open&&t.appBarShift)},r.a.createElement(C.a,{disableGutters:!this.state.open,className:t.toolbar},r.a.createElement(T.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:v()(t.menuButton,this.state.open&&t.menuButtonHidden)},r.a.createElement(A.a,null)),r.a.createElement("img",{alt:"",src:U.a,height:50}),r.a.createElement(x.a,{variant:"title",style:{color:"DarkRed",fontWeight:"bold"},noWrap:!0,className:t.title},"Dashboard"))),r.a.createElement(w.a,{variant:"permanent",classes:{paper:v()(t.drawerPaper,!this.state.open&&t.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(T.a,{onClick:this.handleDrawerClose},r.a.createElement(L.a,null))),r.a.createElement(N.a,null),r.a.createElement(N.a,null),r.a.createElement(O.a,null,r.a.createElement(k.a,{button:!0,onClick:function(){return e.handleClick(0)},selected:0===o},r.a.createElement(P.a,null,r.a.createElement(I.a,{className:t.iconStyle})),r.a.createElement(D.a,{primary:r.a.createElement(x.a,{variant:"display3",className:t.typographyStyle},"Home")})),r.a.createElement(N.a,null),r.a.createElement(N.a,null),r.a.createElement(k.a,{button:!0,onClick:function(){return e.handleClick(1)},selected:1===o},r.a.createElement(P.a,null,r.a.createElement($.a,{className:t.iconStyle})),r.a.createElement(D.a,{primary:r.a.createElement(x.a,{variant:"display3",className:t.typographyStyle},"Tenants")})),r.a.createElement(N.a,null),r.a.createElement(N.a,null),r.a.createElement(k.a,{button:!0,onClick:function(){return e.handleClick(2)},selected:2===o},r.a.createElement(P.a,null,r.a.createElement(z.a,{className:t.iconStyle})),r.a.createElement(D.a,{primary:r.a.createElement(x.a,{variant:"display3",className:t.typographyStyle},"Analytics")})),r.a.createElement(N.a,null),r.a.createElement(N.a,null),r.a.createElement(k.a,{button:!0,onClick:function(){return e.handleClick(3)},selected:3===o},r.a.createElement(P.a,null,r.a.createElement(W.a,{className:t.iconStyle})),r.a.createElement(D.a,{primary:r.a.createElement(x.a,{variant:"display3",className:t.typographyStyle},"Add tenant")}))),r.a.createElement(N.a,null),r.a.createElement(N.a,null),r.a.createElement(k.a,{button:!0,onClick:this.handleLogout},r.a.createElement(P.a,null,r.a.createElement(_.a,{className:t.iconStyle})),r.a.createElement(D.a,{primary:r.a.createElement(x.a,{variant:"display3",className:t.typographyStyle},"Logout")})),r.a.createElement(N.a,null),r.a.createElement(N.a,null)),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(x.a,{component:"div",className:t.chartContainer},function(e){switch(e){case 0:return r.a.createElement(Ie,null);case 1:return r.a.createElement(wt,null);case 2:return r.a.createElement(Qe,null);case 3:return r.a.createElement(Dt,null)}}(this.state.component)))))}}]),t}(r.a.Component),At=Object(y.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(f.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{backgroundColor:"\t#D3D3D3",color:"black",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,paddingLeft:20,fontSize:17,fontWeight:"bold"},drawerPaper:{backgroundColor:"FloralWhite ",position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(g.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{paddingTop:70},tableContainer:{height:320},typographyStyle:{fontSize:18,color:"black",fontWeight:"bold"},iconStyle:{color:"black"},logoutStyle:{}}})(Ft),Ht=a(147),Lt=a(285),Rt=a(275),It=a(305),Bt=a(289),zt=a(148),Mt=a(244),Wt=a.n(Mt),Xt=a(335),$t=a.n(Xt),Kt=a(288),_t=a(224),Gt=a.n(_t),Ut={EDETAILS:"EDETAILS",SETRENTMONTH:"SETRENTMONTH",NEWSTARTDATE:"NEWSTARTDATE",NEWENDDATE:"NEWENDDATE",BASKET:"BASKET",PHONEACTION:"PHONEACTION",TOKEN:"TOKEN",NAME:"NAME"},Jt=function(e){return{type:"TOKEN",token:e}},qt=function(e){return{type:"SETRENTMONTH",month:e}},Yt=function(e){return{type:"PHONEACTION",phone:e}},Zt=a(471),Vt="Sesemi-dashboard/0.1.0(1) web/1.0.0",Qt=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},ea=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"kevnkiwan@gmail.com",password:"kq",alertSweet:"",loader:!1,emailerror:!1,passworderror:!1,resetpasswordstate:!1,dash:!1,home:!1},a.handleChange=function(e){return function(t){a.setState(Object(g.a)({},e,t.target.value))}},a.validateRequired=function(){var e=a.state,t=e.email,n=e.password;""===t&&""!==n?a.setState({emailerror:!0,alertSweet:a.sweetAlert("","You did not enter your username","error")}):""!==t&&""===n?a.setState({passworderror:!0,alertSweet:a.sweetAlert("","You did not enter the password","error")}):""===t&&""===n?a.setState({passworderror:!0,emailerror:!0,alertSweet:a.sweetAlert("","Email & Password are empty","error")}):a.handleSignIn()},a.sweetAlert=function(e,t,a){ut()({title:e,text:t,icon:a})},a.handleSignIn=function(){a.setState({loader:!0});var e=a.state,t=e.email,n=e.password,r=JSON.stringify({username:t,password:n});fetch("/auth",{method:"POST",credentials:"include",headers:{"User-Agent":Vt,Accept:"application/json","Content-Type":"application/json"},body:r}).then(function(e){return e.json()}).then(function(e){!0===e.success?(a.setState({loader:!1}),a.props.tokenStore(e.token),"admin"===e.role?a.setState({dash:!0,home:!1}):"user"===e.role?a.setState({dash:!1,home:!0}):a.setState({alertSweet:a.sweetAlert("Tatizo",".","error"),error:!0})):a.setState({alertSweet:a.sweetAlert("Tatizo","Kuna kitu hakipo sawa.","error"),loader:!1,error:!0})}).catch(function(e){a.setState({alertSweet:a.sweetAlert("","Umekosea username au password","error"),loader:!1,error:!0})})},a.handlePasswordReset=function(){a.setState({loader:!0});var e=a.state.email,t=JSON.stringify({username:e});fetch("/resetpassword",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then(function(e){return e.json()}).then(function(e){!0===e.success?a.setState({loader:!1,resetpasswordstate:!1,alertSweet:a.sweetAlert("Password Reset","You have successfully changed your password.","success")}):a.setState({loader:!1,emailerror:!0,resetpasswordstate:!1})}).catch(function(e){a.setState({loader:!1,emailerror:!0,resetpasswordstate:!1})})},a.togglePasswordResetButton=function(){a.state.resetpasswordstate?a.setState({resetpasswordstate:!1}):a.setState({resetpasswordstate:!0}),a.clearLoginError()},a.clearLoginError=function(){a.setState({emailerror:!1,passworderror:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"_onKeyPress",value:function(e){13===e.charCode&&(e.preventDefault(),this.validateRequired())}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.dash,o=a.home;return n?r.a.createElement(E.a,{to:"/dashboard"}):o?r.a.createElement(E.a,{to:"/home"}):r.a.createElement("div",{className:t.background},r.a.createElement(Lt.a,{component:"main",maxWidth:"sm"},r.a.createElement(S.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(Ht.a,{className:t.avatar},r.a.createElement(Wt.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"------ Sign in ------"),r.a.createElement("form",{className:t.form,Validate:!0,onFocus:this.clearLoginError,spellcheck:"false"},r.a.createElement(rt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,InputProps:{startAdornment:r.a.createElement(Kt.a,{position:"start"},r.a.createElement($t.a,null))},value:this.state.email,onChange:this.handleChange("email"),error:this.state.emailerror,onKeyPress:function(t){return e._onKeyPress(t)}}),r.a.createElement(rt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",InputProps:{startAdornment:r.a.createElement(Kt.a,{position:"start"},r.a.createElement(Wt.a,null))},onChange:this.handleChange("password"),value:this.state.password,error:this.state.passworderror,disabled:this.state.resetpasswordstate,onKeyPress:function(t){return e._onKeyPress(t)}}),r.a.createElement(Rt.a,{control:r.a.createElement(It.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(Ct.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.state.resetpasswordstate?this.handlePasswordReset:this.validateRequired},r.a.createElement(ft.a,null),r.a.createElement(x.a,{style:{paddingRight:10,paddingLeft:5}},this.state.resetpasswordstate?"Reset Password":"Login"),r.a.createElement(He.RingLoader,{loading:this.state.loader,size:27,color:"white"})),r.a.createElement(pe.a,{container:!0},r.a.createElement(pe.a,{item:!0,xs:!0},r.a.createElement(Ct.a,{color:"primary",onClick:this.togglePasswordResetButton},r.a.createElement(x.a,{style:{fontSize:12,color:"black"}},"Forgot password?"))),r.a.createElement(pe.a,{item:!0})))),r.a.createElement(zt.a,{m:4},r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},r.a.createElement("img",{src:U.a,height:30,width:30,alt:"*"}),"Built with love by ",r.a.createElement(Bt.a,{color:"inherit",href:"https://www.instagram.com/sesemilimited/"},"Sesemi Company Limited")))))}}]),t}(n.Component),ta=Object(Zt.a)(Object(m.b)(function(e){return{duration:e.ed.duration}},function(e){return{tokenStore:function(t){return e(Jt(t))}}})(Object(y.a)(function(e){return{background:{display:"flex",backgroundColor:Gt.a[200]},paper:{backgroundColor:"white",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:60,border:"solid",borderWidth:.2,borderColor:"peru"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})(ea))),aa=a(264),na=a(294),ra=a(292),oa=a(293),la=a(461),ia=a(306),sa=a(291),ca={fontSize:16},ua=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={network:""},a.handleChangeState=function(e){return function(t){a.setState(Object(g.a)({},e,t.target.value))}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(Be.a,null,r.a.createElement(la.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",{colSpan:"2"},"Particulars"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",{colSpan:"2"},"Tarehe ya kuanza"),r.a.createElement("td",null,this.props.newStart)),r.a.createElement("tr",null,r.a.createElement("td",null,"2"),r.a.createElement("td",{colSpan:"2"},"Tarehe ya kuisha"),r.a.createElement("td",null,this.props.newEnd)),r.a.createElement("tr",null,r.a.createElement("td",null,"3"),r.a.createElement("td",{colSpan:"2"},"Kodi"),r.a.createElement("td",null,Qt(this.props.basket[0]||""))),r.a.createElement("tr",null,r.a.createElement("td",null,"4"),r.a.createElement("td",{colSpan:"2"},"Vyengine"),r.a.createElement("td",null,Qt(this.props.basket[1]||""))),r.a.createElement("tr",null,r.a.createElement("td",null,"5"),r.a.createElement("td",{colSpan:"2"},"Charges"),r.a.createElement("td",null,Qt(this.props.basket[2]))),r.a.createElement("tr",null,r.a.createElement("td",null,"6"),r.a.createElement("td",{colSpan:"2"},"Jumla"),r.a.createElement("td",null,Qt(this.props.basket[3]||""))))),r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,md:4},r.a.createElement(x.a,{variant:"display1",gutterBottom:!0,style:ca},"Chagua Njia ya kulipa:"))),r.a.createElement(We.a,null,r.a.createElement(Xe.a,{xs:6,md:4},r.a.createElement(sa.a,{className:t.group,value:this.state.network,onChange:this.handleChangeState("network")},r.a.createElement(Rt.a,{value:"Tigo Pesa",control:r.a.createElement(ia.a,null),label:"Tigo Pesa",classes:{label:t.label}}),r.a.createElement(Rt.a,{value:"Airtel Money",control:r.a.createElement(ia.a,null),label:"Airtel Money",classes:{label:t.label}})))),r.a.createElement(We.a,null,r.a.createElement(rt.a,{required:!0,id:"outlined-phone-field",label:"Namba ya simu",className:t.textFieldOther,value:this.props.phone,onChange:function(t){return e.props.handleChange(t.target.value)},margin:"normal",variant:"outlined",placeholder:"Namba ya simu",InputLabelProps:{className:t.inputLabelProps},InputProps:{className:t.inputBox}})))}}]),t}(r.a.Component),da=Object(m.b)(function(e){return{basket:e.bucket,newStart:e.newStartDate,newEnd:e.newEndDate,phone:e.phoneReducer}},function(e){return{handleChange:function(t){return e(Yt(t))}}})(Object(y.a)(function(e){return{title:{marginTop:2*e.spacing.unit}}})(ua)),ma=a(337),pa=a.n(ma),ha=[{value:1,label:"1"},{value:3,label:"3"},{value:6,label:"6"},{value:12,label:"12"}],ga=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){return function(t){a.props.handleChange([e],t.target.value)}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(Lt.a,{component:"main",maxWidth:"sm"},r.a.createElement(S.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement("form",{className:t.form,spellcheck:"false"},r.a.createElement(rt.a,{variant:"outlined",select:!0,margin:"normal",required:!0,fullWidth:!0,label:"Chagua miezi unayokaa",InputLabelProps:{className:t.inputLabelProps},InputProps:{startAdornment:r.a.createElement(Kt.a,{position:"start"},r.a.createElement(pa.a,null))},value:this.props.duration,onChange:this.handleChange("duration"),onKeyPress:function(t){return e._onKeyPress(t)},SelectProps:{native:!0}},ha.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))))}}]),t}(n.Component),fa=Object(m.b)(function(e){return{duration:e.ed.duration}},function(e){return{handleChange:function(t,a){return e(function(e,t){return{type:"EDETAILS",payload:{m:e,n:t}}}(t,a))},setupMonth:function(t){return e(qt(t))}}})(Object(y.a)(function(e){return{paper:{backgroundColor:"white",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:60,border:"solid",borderWidth:.2,borderColor:"peru"},inputLabelProps:{fontSize:15},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})(ga)),Ea=["Miezi","Lipa"];var ba=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0,loader:!1,redirectlogin:!1},a.handlePay=function(){var e=a.props,t=e.token,n=e.basket,r=e.newStart,o=e.duration,l=e.phone,i=e.name,s=new Date(r),c=JSON.stringify({phone:"".concat(l),name:"".concat(i),amount:"".concat(n[3]),duration:o,startDate:s});a.setState({loader:!0}),fetch("/v1/app/mobilemoney",{method:"POST",headers:{"User-Agent":Vt,Authorization:t,Accept:"application/json","Content-Type":"application/json"},body:c}).then(function(e){return e.json()}).then(function(e){!0===e.success?(ut()("","Ingiza namba yako ya siri kwenye simu yako ili ukamilishe kulipa","success"),a.setState({loader:!1}),a.handleNext()):(a.setState({loader:!1}),ut()("","Kuna kitu hakipo sawa","error"))}).catch(function(e){a.setState({loader:!1}),ut()("","Connection hakuna","error")})},a.handlePhoneNo=function(){var e=a.props.phone,t="".concat(e),n=t.slice(0,3);12===t.length&&"255"===n?a.handlePay():""===e?ut()("","Haujaweka namba ya simu","error"):ut()("","Weka namba namna hii: 255 XXX XXX XXX. e.g 255714876321","error")},a.handleSubmit=function(){a.setState({loader:!0}),a.dates(),a.getFees()},a.dates=function(){var e=a.props,t=e.duration,n=e.token,r=JSON.stringify({duration:t});fetch("/v1/app/confirm",{method:"POST",headers:{"User-Agent":Vt,Authorization:n,Accept:"application/json","Content-Type":"application/json"},body:r}).then(function(e){return e.json()}).then(function(e){a.props.setupNewStartDate(e.oldend),a.props.setupNewEndDate(e.newend),a.props.setupPhone(e.phone),a.props.setupName(e.name)}).catch(function(e){ut()("","Connection imekatika","error")})},a.getFees=function(){var e=a.props,t=e.duration,n=e.token,r=JSON.stringify({duration:t});fetch("/v1/app/getfees",{method:"POST",headers:{"User-Agent":Vt,Authorization:n,Accept:"application/json","Content-Type":"application/json"},body:r}).then(function(e){return e.json()}).then(function(e){a.setState({loader:!1}),a.props.setupBasket(e),a.handleNext()}).catch(function(e){alert(e),ut()("","Connection imekatika","error"),a.setState({loader:!1})})},a.handleSubmitFunctions=function(){var e=a.state.activeStep;0===e&&a.handleSubmit(),1===e&&a.handlePhoneNo()},a.handleNext=function(){a.setState(function(e){return{activeStep:e.activeStep+1}})},a.handleReset=function(){a.setState({activeStep:0})},a.handleBack=function(){a.setState(function(e){return{activeStep:e.activeStep-1}})},a.handleLogout=function(){fetch("/api/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.success?(a.setState({redirectlogin:!0}),localStorage.removeItem("token")):alert("warning failed")}).catch(function(e){alert("warning failed at catch")})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"hydrateTokenWithLocalStorage",value:function(){if(localStorage.hasOwnProperty("token")){var e=localStorage.getItem("token");try{e=JSON.parse(e),this.props.tokenStore(e)}catch(t){alert(t)}}}},{key:"saveStateToLocalStorage",value:function(){localStorage.setItem("token",JSON.stringify(this.props.token))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.activeStep;return t.redirectlogin?r.a.createElement(E.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null),r.a.createElement(j.a,{position:"absolute",color:"default",className:e.appBar},r.a.createElement(C.a,{className:e.toolbar},r.a.createElement(x.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Pangisha App"),r.a.createElement(tt.a,{variant:"primary",onClick:this.handleLogout},"Logout"))),r.a.createElement("main",{className:e.layout},r.a.createElement(aa.a,{className:e.paper},r.a.createElement(na.a,{activeStep:a,className:e.stepper},Ea.map(function(e){return r.a.createElement(ra.a,{key:e},r.a.createElement(oa.a,null,r.a.createElement(x.a,{variant:"h5",style:{fontSize:17,fontWeight:"bold"}},e)))})),r.a.createElement(r.a.Fragment,null,a===Ea.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"display1",gutterBottom:!0,style:{fontSize:19}},"Asante kwa kulipa."),r.a.createElement(Ct.a,{variant:"contained",color:"primary",onClick:this.handleReset,className:e.buttons},"Reset")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(fa,null);case 1:return r.a.createElement(da,null);default:throw new Error("Unknown step")}}(a),r.a.createElement("div",{className:e.buttons},0!==a&&r.a.createElement(Ct.a,{onClick:this.handleBack,className:e.button},"Back"),r.a.createElement(Ct.a,{variant:"contained",color:"primary",onClick:this.handleSubmitFunctions,className:e.button},a===Ea.length-1?"Lipa":"Endelea",r.a.createElement(He.RingLoader,{loading:this.state.loader,size:27,color:"white"}))))))))}}]),t}(r.a.Component),va=Object(Zt.a)(Object(m.b)(function(e){return{duration:e.ed.duration,phone:e.phoneReducer,basket:e.bucket,newStart:e.newStartDate,name:e.nameReducer,token:e.tokenReducer}},function(e){return{setupMonth:function(t){return e(qt(t))},setupNewStartDate:function(t){return e(function(e){return{type:"NEWSTARTDATE",newStart:e}}(t))},setupNewEndDate:function(t){return e(function(e){return{type:"NEWENDDATE",newEnd:e}}(t))},setupBasket:function(t){return e(function(e){return{type:"BASKET",basket:e}}(t))},setupPhone:function(t){return e(Yt(t))},setupName:function(t){return e(function(e){return{type:"NAME",name:e}}(t))},tokenStore:function(t){return e(Jt(t))}}})(q()(function(e){return{appBar:{position:"relative"},layout:Object(g.a)({paddingTop:25,width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},e.breakpoints.up(600+2*e.spacing.unit*2),{width:1200,marginLeft:"auto",marginRight:"auto"}),paper:Object(g.a)({marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},e.breakpoints.up(600+3*e.spacing.unit*2),{marginTop:6*e.spacing.unit,marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit}),stepper:{padding:"".concat(3*e.spacing.unit,"px 0 ").concat(5*e.spacing.unit,"px")},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:3*e.spacing.unit,marginLeft:e.spacing.unit},toolbar:{paddingRight:24},title:{flexGrow:1,paddingLeft:20,fontSize:17,fontWeight:"bold"},overlay:{position:"absolute",top:0,bottom:-400,right:0,left:0}}})(ba))),ya=a(83),xa=a(338),Sa={duration:1},wa=Object(ya.c)({ed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut.EDETAILS:return Object(f.a)({},e,Object(g.a)({},t.payload.m,t.payload.n));case Ut.INITIALSTATEACTION:return Sa;default:return e}},newStartDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut.NEWSTARTDATE:return t.newStart;default:return e}},newEndDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut.NEWENDDATE:return t.newEnd;default:return e}},bucket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut.BASKET:return t.basket;default:return e}},monthRent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut.SETRENTMONTH:return t.month;default:return e}},phoneReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut.PHONEACTION:return t.phone;default:return e}},tokenReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut.TOKEN:return t.token;default:return e}},nameReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut.NAME:return t.name;default:return e}}}),ja=Object(ya.d)(wa,Object(ya.a)(xa.a)),Ca=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{store:ja},r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(h.a,{exact:!0,path:"/",component:ta}),r.a.createElement(h.a,{component:Oa}),r.a.createElement(h.a,{component:Na}))))}}]),t}(n.Component),Oa=function(){return r.a.createElement("div",null,r.a.createElement(h.a,{exact:!0,path:"/dashboard",component:At}))},Na=function(){return r.a.createElement("div",null,r.a.createElement(h.a,{exact:!0,path:"/home",component:va}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ta=a(149),ka=a(281),Pa=Object(Ta.a)({palette:{primary:{main:"#D2691E"}},overrides:{MuiOutlinedInput:{root:{"&:hover:not($disabled):not($focused):not($error) $notchedOutline":{borderColor:"#4A90E2",borderWidth:2.1,"@media (hover: none)":{borderColor:"rgba(0, 0, 0, 0.23)"}}}}}});l.a.render(r.a.createElement("div",null,r.a.createElement(ka.a,{theme:Pa},r.a.createElement(Ca,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[340,2,1]]]);
//# sourceMappingURL=main.d1fc24d7.chunk.js.map